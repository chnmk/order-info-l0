# internal/database

Определяет функции для работы с базой данных PostgreSQL.

Изначально данные хранились в виде таблиц с подробной информацией о заказах, но в ходе разработки кэша появилось желание хранить их в формате JSON. В итоге остался только второй вариант из-за большей эффективности (нет путаницы с конвертацией в структуру и обратно и необходимости лишний раз это делать, отнимая дополнительные ресурсы).

Данные хранятся в одной таблице orders с четырьмя полями:

- id INTEGER PRIMARY KEY: порядковый номер заказа (положение в массиве в кэше);
- uid VARCHAR(32): поле order_uid из модели данных;
- created VARCHAR(32): дата создания заказа из модели данных;
- orderdata JSONB: данные о заказе в формате JSON.

## Тесты
Заготовка тестов для моковой базы данных, которая содержится в пакете models и используется в тестах пакета memory.